# Kubidu Platform Environment Variables
# Copy this file to .env and update the values

# ==================== DATABASE ====================
DATABASE_URL=postgresql://kubidu:kubidu_dev_password@postgres:5432/kubidu

# ==================== REDIS ====================
REDIS_URL=redis://:kubidu_redis_password@redis:6379

# ==================== SECURITY ====================
# JWT secrets (will be auto-generated by setup.sh)
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars

# Encryption key for environment variables (64 hex chars = 32 bytes)
# Will be auto-generated by setup.sh
# Or manually generate: openssl rand -hex 32
ENCRYPTION_KEY=

# ==================== GIT PROVIDERS ====================
# GitHub webhook secret (set in GitHub webhook settings)
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret-change-this

# GitLab webhook secret (set in GitLab webhook settings)
GITLAB_WEBHOOK_SECRET=your-gitlab-webhook-secret-change-this

# ==================== GITHUB APP (Optional) ====================
# Register a GitHub App at https://github.com/settings/apps/new
# Required for private repo access and the GitHub repo picker
GITHUB_APP_ID=
GITHUB_APP_NAME=kubidu
GITHUB_APP_CLIENT_ID=
GITHUB_APP_CLIENT_SECRET=
# Private key PEM (replace newlines with \n for env var)
GITHUB_APP_PRIVATE_KEY=

# ==================== STRIPE (Optional for development) ====================
# Get these from https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ==================== MINIO ====================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=kubidu
MINIO_SECRET_KEY=kubidu_dev_password
MINIO_USE_SSL=false

# ==================== KUBERNETES ====================
K8S_KUBECONFIG_PATH=/kubeconfig/kubeconfig.yaml

# ==================== APPLICATION ====================
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173
DEFAULT_DOMAIN_SUFFIX=kubidu.local

# ==================== BUILD SERVICE ====================
BUILD_TIMEOUT_SECONDS=1800
MAX_CONCURRENT_BUILDS=3

# ==================== REGISTRY ====================
REGISTRY_URL=registry:5000

# ==================== MONITORING (Optional) ====================
# PROMETHEUS_ENABLED=false
# GRAFANA_ENABLED=false

# ==================== EMAIL (Optional) ====================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@kubidu.io
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=Kubidu <noreply@kubidu.io>
