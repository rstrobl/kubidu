# Kubidu Platform Environment Variables
# Copy this file to .env and update the values

# ==================== DATABASE ====================
DATABASE_URL=postgresql://kubidu:kubidu_dev_password@postgres:5432/kubidu

# ==================== REDIS ====================
REDIS_URL=redis://:kubidu_redis_password@redis:6379

# ==================== SECURITY ====================
# ⚠️  SECURITY WARNING: Generate unique secrets for production!
# 
# JWT secrets - MUST BE CHANGED for production!
# Generate with: openssl rand -base64 48
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_48
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_48

# Encryption key for environment variables (64 hex chars = 32 bytes)
# REQUIRED - Generate with: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32

# ==================== GIT PROVIDERS ====================
# GitHub webhook secret (set in GitHub webhook settings)
# Generate with: openssl rand -hex 20
GITHUB_WEBHOOK_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_20

# GitLab webhook secret (set in GitLab webhook settings)
# Generate with: openssl rand -hex 20
GITLAB_WEBHOOK_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_20

# ==================== GITHUB APP (Optional) ====================
# Register a GitHub App at https://github.com/settings/apps/new
# Required for private repo access and the GitHub repo picker
GITHUB_APP_ID=
GITHUB_APP_NAME=kubidu
GITHUB_APP_CLIENT_ID=
GITHUB_APP_CLIENT_SECRET=
# Private key PEM (replace newlines with \n for env var)
GITHUB_APP_PRIVATE_KEY=

# ==================== STRIPE (Optional for development) ====================
# Get these from https://dashboard.stripe.com/test/apikeys
# ⚠️  Never commit real Stripe keys! Use test keys only.
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ==================== MINIO ====================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=kubidu
MINIO_SECRET_KEY=kubidu_dev_password
MINIO_USE_SSL=false

# ==================== KUBERNETES ====================
K8S_KUBECONFIG_PATH=/kubeconfig/kubeconfig.yaml

# ==================== APPLICATION ====================
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173
DEFAULT_DOMAIN_SUFFIX=kubidu.local

# ==================== BUILD SERVICE ====================
BUILD_TIMEOUT_SECONDS=1800
MAX_CONCURRENT_BUILDS=3

# ==================== REGISTRY ====================
REGISTRY_URL=registry:5000

# ==================== MONITORING (Optional) ====================
# PROMETHEUS_ENABLED=false
# GRAFANA_ENABLED=false

# ==================== EMAIL (Optional) ====================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@kubidu.io
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=Kubidu <noreply@kubidu.io>
